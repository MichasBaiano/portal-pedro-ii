<%- include('partials/header', { titulo: 'In√≠cio - Portal Pedro II' }) %>

<style>
    /* --- Estilos exclusivos da Home --- */
    
    /* Banner Hero (Topo) */
    .hero-section {
        background: linear-gradient(135deg, var(--cor-primaria) 0%, #2a4365 100%);
        color: white;
        padding: 4rem 1.5rem;
        text-align: center;
        margin-bottom: 2rem;
        border-radius: 0 0 20px 20px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .hero-section h1 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        color: white; /* For√ßa branco mesmo no dark mode */
    }

    .hero-section p {
        font-size: 1.2rem;
        max-width: 600px;
        margin: 0 auto;
        opacity: 0.9;
        color: #e2e8f0;
    }

    /* Grid Responsivo para Home */
    .grid-home {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 1.5rem;
    }

    /* Ajustes nos Cards da Home */
    .card-home {
        background-color: var(--bg-card);
        border: 1px solid var(--borda-suave);
        border-radius: 16px;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .card-home:hover {
        transform: translateY(-5px);
        box-shadow: var(--sombra-card);
        border-color: var(--cor-primaria);
    }

    .card-img-top {
        height: 200px;
        background-size: cover;
        background-position: center;
        background-color: #eee;
    }

    .card-body {
        padding: 1.5rem;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
    }

    .secao-home {
        padding: 2rem 0;
        margin-bottom: 2rem;
    }

    /* Badges */
    .badge-data {
        background: var(--cor-primaria-clara);
        color: var(--cor-primaria);
        padding: 4px 10px;
        border-radius: 6px;
        font-weight: bold;
        font-size: 0.85rem;
        display: inline-block;
        margin-bottom: 10px;
    }

    .badge-destaque {
        color: var(--cor-destaque);
        font-weight: bold;
        font-size: 0.85rem;
        display: flex;
        align-items: center;
        gap: 5px;
        margin-bottom: 5px;
    }

    .widget-clima {
        display: inline-flex;
        align-items: center;
        gap: 12px;
        background: rgba(255, 255, 255, 0.15); /* Vidro transl√∫cido */
        backdrop-filter: blur(5px);
        padding: 8px 20px;
        border-radius: 50px;
        margin-top: 2rem; /* Separar dos bot√µes */
        border: 1px solid rgba(255, 255, 255, 0.3);
        color: white;
        font-weight: 500;
        animation: fadeIn 1s ease-in;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>

<section class="hero-section">
    <div class="container">
        <h1>Bem-vindo a Pedro II</h1>
        <p>A Su√≠√ßa Piauiense espera por voc√™. Descubra festivais, belezas naturais e a nossa preciosa opala.</p>
        <div style="margin-top: 2rem; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
            <a href="/mapa" class="btn" style="background: white; color: var(--cor-primaria);">üó∫Ô∏è Ver Mapa</a>
            <a href="/estabelecimentos" class="btn" style="border: 2px solid white; color: white;">üè® Onde Ficar</a>
        </div>
        <div class="widget-clima">
            <span id="climaIcone" style="font-size: 1.5rem;">üå§Ô∏è</span>
            <div style="text-align: left; line-height: 1.2;">
                <span id="climaTemp" style="font-size: 1.2rem; font-weight: bold; display: block;">--¬∞C</span>
                <span id="climaTexto" style="font-size: 0.8rem; opacity: 0.9;">Carregando clima...</span>
            </div>
        </div>
    </div>
</section>

<main>

    <section class="secao-home">
        <div style="display: flex; justify-content: space-between; align-items: end; margin-bottom: 1rem;">
            <div>
                <h2>üìÖ Pr√≥ximos Eventos</h2>
                <p style="color: var(--texto-leve); margin: 0;">Fique por dentro da agenda cultural.</p>
            </div>
            <a href="/eventos" style="color: var(--cor-primaria); font-weight: 600; text-decoration: none;">Ver tudo ‚Üí</a>
        </div>

        <div class="grid-home">
            <% if (!eventos || eventos.length === 0) { %>
                <div style="grid-column: 1/-1; text-align: center; padding: 2rem; background: var(--bg-card); border-radius: 12px; border: 1px dashed var(--borda-suave);">
                    <p style="color: var(--texto-leve);">Nenhum evento pr√≥ximo agendado no momento.</p>
                </div>
            <% } else { %>
                <% eventos.forEach(ev => { %>
                    <article class="card-home">
                        <div class="card-img-top" style="background-image: url('<%= ev.imagem || '/img/placeholder.jpg' %>');"></div>
                        
                        <div class="card-body">
                            <div>
                                <span class="badge-data">
                                    üìÖ <%= new Date(ev.data).toLocaleDateString('pt-BR', {timeZone: 'UTC'}) %>
                                </span>
                            </div>
                            
                            <h3 style="margin: 10px 0; font-size: 1.25rem; color: var(--texto-titulo);"><%= ev.nome %></h3>
                            <p style="color: var(--texto-leve); font-size: 0.95rem; margin-bottom: 1.5rem;">
                                üìç <%= ev.local %>
                            </p>
                            
                            <a href="/detalhe?tipo=evento&id=<%= ev.id %>" class="btn btn-primary" style="margin-top: auto; text-align: center;">
                                Detalhes
                            </a>
                        </div>
                    </article>
                <% }) %>
            <% } %>
        </div>
    </section>

    <hr style="border: 0; border-top: 1px solid var(--borda-suave); margin: 3rem 0;">

    <section class="secao-home">
        <div style="display: flex; justify-content: space-between; align-items: end; margin-bottom: 1rem;">
            <div>
                <h2>‚≠ê Destaques da Cidade</h2>
                <p style="color: var(--texto-leve); margin: 0;">Lugares recomendados para visitar.</p>
            </div>
            <a href="/estabelecimentos" style="color: var(--cor-primaria); font-weight: 600; text-decoration: none;">Ver todos ‚Üí</a>
        </div>

        <div class="grid-home">
            <% if (!destaques || destaques.length === 0) { %>
                <div style="grid-column: 1/-1; text-align: center; padding: 2rem; background: var(--bg-card); border-radius: 12px; border: 1px dashed var(--borda-suave);">
                    <p style="color: var(--texto-leve);">Nenhum destaque cadastrado ainda.</p>
                </div>
            <% } else { %>
                <% destaques.forEach(local => { %>
                    <article class="card-home">
                        <div class="card-img-top" style="background-image: url('<%= local.imagem || '/img/placeholder.jpg' %>');"></div>
                        
                        <div class="card-body">
                            <div class="badge-destaque">
                                <span>‚≠ê RECOMENDADO</span>
                            </div>
                            
                            <h3 style="margin: 5px 0; font-size: 1.25rem; color: var(--texto-titulo);"><%= local.nome %></h3>
                            <span style="background: #eee; color: #555; padding: 2px 8px; border-radius: 4px; font-size: 0.8rem; text-transform: uppercase; font-weight: 600; width: fit-content;">
                                <%= local.categoria %>
                            </span>
                            
                            <p style="color: var(--texto-corpo); font-size: 0.95rem; margin-top: 1rem; flex-grow: 1;">
                                <%= local.descricao ? local.descricao.substring(0, 80) + '...' : 'Venha conhecer este local incr√≠vel.' %>
                            </p>
                            
                            <a href="/detalhe?tipo=estabelecimento&id=<%= local.id %>" class="btn" style="margin-top: 1rem; text-align: center; border: 1px solid var(--borda-suave); color: var(--texto-corpo);">
                                Conhecer
                            </a>
                        </div>
                    </article>
                <% }) %>
            <% } %>
        </div>
    </section>

</main>

</main> <script src="/js/clima.js"></script> 

<%- include('partials/footer') %>